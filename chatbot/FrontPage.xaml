<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="chatbot.FrontPage"
             BackgroundColor="#1E1E2C"
             xmlns:local="clr-namespace:chatbot">

    <VerticalStackLayout Padding="20" Spacing="20">

        <!-- TÃ­tulo -->
        <Label Text="ðŸ’¬ As Minhas Conversas"
               FontSize="28"
               FontAttributes="Bold"
               TextColor="White" />

        <!-- BotÃµes de AÃ§Ã£o -->
        <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
            <Button Text="âž• Nova Conversa"
                    BackgroundColor="#4CAF50"
                    TextColor="White"
                    FontSize="16"
                    Padding="15,10"
                    CornerRadius="12"
                    Clicked="OnStartChatClicked"
                    Grid.Column="0" />

            <Button Text="ðŸ”„ Carregar Chats"
                    BackgroundColor="#2196F3"
                    TextColor="White"
                    FontSize="16"
                    Padding="15,10"
                    CornerRadius="12"
                    Clicked="OnLoadChatsClicked"
                    Grid.Column="1" />
        </Grid>

        <!-- Lista de Conversas -->
        <CollectionView ItemsSource="{Binding Conversations}"
                        SelectionChanged="OnChatSelected">

            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame CornerRadius="12"
                           Padding="15"
                           Margin="0,5"
                           BackgroundColor="#2A2A3D"
                           HasShadow="True">

                        <VerticalStackLayout Spacing="5">
                            <Label Text="{Binding Title}"
                                   TextColor="White"
                                   FontSize="18"
                                   FontAttributes="Bold" />
                            
                            <Label Text="{Binding MessageCount, StringFormat='{0} mensagens'}"
                                   TextColor="#B0B0B0"
                                   FontSize="14" />
                        </VerticalStackLayout>

                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>

        </CollectionView>

    </VerticalStackLayout>

</ContentPage>
